@page
@model SEP_Management.Areas.ClassManager.Pages.Projects.EditModel

@{
    ViewData["Title"] = "Edit";
    Layout = "~/Pages/Shared/_Layout.cshtml";
}
@* 
<h1>Edit</h1>

<h4>Project</h4>
<hr />
<div class="row">
    <div class="col-md-4">
        <form method="post">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <input type="hidden" asp-for="Project.ProjectId" />
            <div class="form-group">
                <label asp-for="Project.ProjectCode" class="control-label"></label>
                <input asp-for="Project.ProjectCode" class="form-control" />
                <span asp-validation-for="Project.ProjectCode" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Project.ProjectEnName" class="control-label"></label>
                <input asp-for="Project.ProjectEnName" class="form-control" />
                <span asp-validation-for="Project.ProjectEnName" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Project.ProjectVieName" class="control-label"></label>
                <input asp-for="Project.ProjectVieName" class="form-control" />
                <span asp-validation-for="Project.ProjectVieName" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Project.ProjectDescription" class="control-label"></label>
                <input asp-for="Project.ProjectDescription" class="form-control" />
                <span asp-validation-for="Project.ProjectDescription" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Project.Status" class="control-label"></label>
                <input asp-for="Project.Status" class="form-control" />
                <span asp-validation-for="Project.Status" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Project.CreatedBy" class="control-label"></label>
                <input asp-for="Project.CreatedBy" class="form-control" />
                <span asp-validation-for="Project.CreatedBy" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Project.UpdatedBy" class="control-label"></label>
                <input asp-for="Project.UpdatedBy" class="form-control" />
                <span asp-validation-for="Project.UpdatedBy" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Project.ClassId" class="control-label"></label>
                <select asp-for="Project.ClassId" class="form-control" asp-items="ViewBag.ClassId"></select>
                <span asp-validation-for="Project.ClassId" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Project.GroupName" class="control-label"></label>
                <input asp-for="Project.GroupName" class="form-control" />
                <span asp-validation-for="Project.GroupName" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Project.MentorId" class="control-label"></label>
                <input asp-for="Project.MentorId" class="form-control" />
                <span asp-validation-for="Project.MentorId" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Project.CoMentorId" class="control-label"></label>
                <input asp-for="Project.CoMentorId" class="form-control" />
                <span asp-validation-for="Project.CoMentorId" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Project.AccessToken" class="control-label"></label>
                <input asp-for="Project.AccessToken" class="form-control" />
                <span asp-validation-for="Project.AccessToken" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Project.Url" class="control-label"></label>
                <input asp-for="Project.Url" class="form-control" />
                <span asp-validation-for="Project.Url" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Project.CreatedAt" class="control-label"></label>
                <input asp-for="Project.CreatedAt" class="form-control" />
                <span asp-validation-for="Project.CreatedAt" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Project.UpdatedAt" class="control-label"></label>
                <input asp-for="Project.UpdatedAt" class="form-control" />
                <span asp-validation-for="Project.UpdatedAt" class="text-danger"></span>
            </div>
            <div class="form-group">
                <input type="submit" value="Save" class="btn btn-primary" />
            </div>
        </form>
    </div>
</div>

<div>
    <a asp-page="./Index">Back to List</a>
</div> *@

<style>
    .card {
        width: 100%;
        max-width: 700px;
        margin: 0 auto;
    }

    .card-body {
        padding: 1rem;
    }
</style>
<div id="preloader">
    <div id="status">
        <div class="spinner">
            <div class="double-bounce1"></div>
            <div class="double-bounce2"></div>
        </div>
    </div>
</div>

<div class="container-fluid">
                    <div class="layout-specing">
                        <div class="row mb-3">
                            <div class="col-xl-9 col-md-6">
                                <h5 class="mb-0">Project Management</h5>

                                <nav aria-label="breadcrumb" class="d-inline-block mt-2">
                                    <ul class="breadcrumb breadcrumb-muted bg-transparent rounded mb-0 p-0">
                                        <li class="breadcrumb-item"><a href="">Project Management</a></li>
                                        <li class="breadcrumb-item"><a href="ManageProjectController">Select Class</a></li>
                                        <li class="breadcrumb-item " ><a href="ManageProjectController?service=ProjectList&class_id=${class_id}">Project List</a></li>
                                        <li class="breadcrumb-item active" aria-current="page">Project Details</li>
                                    </ul>
                                </nav>
                            </div><!--end col-->
                        </div> 


                        <div class="row">
                            <div class="bg-white component-wrapper border-0 rounded shadow" >
                                <div class="p-4 border-bottom">
                                    <h5 class="mb-0"> Project details </h5>
                                </div>

                                <div class="p-4">
                                    <div class="row pt-2">
                                        <div class="col-12">
                                            <div class="tab-content" id="pills-tabContent">

                                                <form class="mt-2" method="post" id="updateForm">
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label class="form-label">Class Code:</label>
                                                                <select asp-items="@ViewBag.Classes" asp-for="Project.ClassId" class="form-select" id="classSelect">
                                                                </select>
                                                            </div>
                                                        </div><!--end col-->

                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label class="form-label">Status:</label>
                                                                <input asp-for="Project.Status" readonly="" type="hidden" class="form-control" value="@Model.Project.Status">
                                                                    @if (Model.Project.Status == 1)
                                                                    {
                                                                        <input  readonly="" type="text" class="form-control" value="Active">
                                                                    }
                                                                    else
                                                                    {
                                                                        <input  readonly="" type="text" class="form-control" value="Inactive">
                                                                    }
                                                            </div>
                                                        </div><!--end col-->

                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label class="form-label">Group Name:</label>
                                                                <input @(Model.Project.Status == 1 ? "readonly" : " ") asp-for="Project.GroupName" type="text" pattern=".{2,20}" title="Between 1 to 20 characters" class="form-control" value="@Model.Project.GroupName">
                                                            </div> 
                                                        </div><!--end col-->

                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label class="form-label">Project Code:</label>
                                                                <input @(Model.Project.Status == 1 ? "readonly" : " ") asp-for="Project.ProjectCode" pattern=".{3,10}" title="Between 3 to 10 characters" type="text" class="form-control" value="@Model.Project.ProjectCode">
                                                            </div>                                                                               
                                                        </div><!--end col-->

                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label class="form-label">English Name:</label>
                                                                <input @(Model.Project.Status == 1 ? "readonly" : " ") asp-for="Project.ProjectEnName" pattern=".{5,30}" title="Between 5 to 30 characters" type="text" class="form-control" value="@Model.Project.ProjectEnName">
                                                            </div> 
                                                        </div><!--end col-->

                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label class="form-label">Vietnamese Name:</label>
                                                                <input  @(Model.Project.Status == 1 ? "readonly" : " ") name="Project.ProjectVieName" pattern=".{5,30}" title="Between 5 to 30 characters" type="text" class="form-control" value="@Model.Project.ProjectVieName">
                                                            </div>                                                                               
                                                        </div>

                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label class="form-label">Mentor:</label>
                                                                <select asp-for="Project.MentorId" asp-items="ViewBag.Mentors" class="form-select" id="mentorSelect">
                                                                </select>
                                                            </div> 
                                                        </div><!--end col-->

                                                        <div class="col-md-6">
                                                            <div class="mb-3">
                                                                <label class="form-label">Co-mentor:</label>
                                                                <select asp-items="ViewBag.Mentors" asp-for="Project.CoMentorId" class="form-select" id="coMentorSelect">
                                                                </select>
                                                            </div>                                                                               
                                                        </div>

                                                        <div class="col-md-6">

                                                        </div>

                                                        <div class="col-md-12">
                                                            <div class="mb-3">
                                                                <label class="form-label">Description: </label>
                                                                <textarea asp-for="Project.ProjectDescription" id="comments" rows="4" class="form-control" >@Model.Project.ProjectDescription</textarea>
                                                            </div>
                                                        </div>
                                                    </div><!--end row-->

                                                    <div class="row">
                                                        
                                                        <div class="col-sm-12">
                                                            <input type="hidden" asp-for="Project.ProjectId" class="btn btn-success" value="@Model.Project.ProjectId">
                                                            <Button type="submit" name="submit" value="" class="btn btn-success">Save changes</button>
                                                        </div<!--end col-->
                                                    </div><!--end row-->
                                                </form><!--end form-->
                                                <div class="row">
                                                    <div class="col-sm-12">
                                                        <a asp-page="Index" class="btn btn-primary" asp-route-classId="@Model.Project.ClassId">Back</a>
                                                    </div>
                                                </div>
                                            </div><!--end tab content-->
                                        </div><!--end col-->
                                    </div><!--end row-->
                                </div>
                            </div>
                        </div>




                    </div>

                </div>
 <script>
    document.addEventListener('DOMContentLoaded', function () {
        var projectStatus = @Model.Project.Status;

        if (projectStatus == 1) {
            document.getElementById('classSelect').disabled = true;
            document.getElementById('mentorSelect').disabled = true;
            document.getElementById('coMentorSelect').disabled = true;
        }
    });
</script>
@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
